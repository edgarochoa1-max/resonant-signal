/* ============================================================
   RESONANT · GATE v2
   Ritual · System · No Marketing
============================================================ */

/* RESET */
* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  margin: 0;
}

body {
  background: #050507;
  color: #f5f5f7;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  overflow: hidden;
}

/* ROOT */
.gate-root {
  position: relative;
  width: 100%;
  height: 100svh;

  display: grid;
  grid-template-rows: auto 1fr auto;

  padding: 28px 20px;
  opacity: 0;
  animation: gateIn 0.9s ease forwards;
}

/* SUBTLE GRAIN */
.gate-root::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.02),
      rgba(255,255,255,0.02) 1px,
      transparent 1px,
      transparent 2px
    );
  opacity: 0.08;
}

/* STATUS */
.gate-status {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  font-size: 9px;
  letter-spacing: 0.34em;
  text-transform: uppercase;
  color: rgba(200,205,225,0.55);
}

.status-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #6cff9b;
  box-shadow: 0 0 10px rgba(108,255,155,0.6);
  animation: pulse 3.8s ease-in-out infinite;
}

/* CORE */
.gate-core {
  align-self: center;
  justify-self: center;

  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 22px;
}

/* SYMBOL */
.gate-symbol {
  font-size: 64px;
  letter-spacing: 0.18em;
  padding-left: 0.18em;
  opacity: 0.92;
}

/* COPY */
.gate-copy {
  text-align: center;
}

.gate-line {
  margin: 0;
  font-size: 11px;
  letter-spacing: 0.28em;
  text-transform: uppercase;
}

.gate-line.muted {
  margin-top: 6px;
  font-size: 9.5px;
  letter-spacing: 0.22em;
  color: rgba(180,185,205,0.55);
}

/* ENTRY */
.gate-entry {
  display: flex;
  justify-content: center;
  padding-bottom: env(safe-area-inset-bottom);
}

.hold-indicator {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;

  cursor: pointer;
  user-select: none;
}

.hold-label {
  font-size: 9px;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(220,225,245,0.7);
}

/* HOLD BAR */
.hold-bar {
  width: 140px;
  height: 2px;
  background: rgba(255,255,255,0.12);
  overflow: hidden;
}

.hold-fill {
  width: 100%;
  height: 100%;
  background: #f5f5f7;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.06s linear;

}

/* EXIT */
.gate-exit {
  animation: gateOut 0.6s ease forwards;
}

/* ANIMATIONS */
@keyframes gateIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes gateOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

@keyframes pulse {
  0%   { opacity: 0.5; box-shadow: 0 0 6px rgba(108,255,155,0.4); }
  50%  { opacity: 1;   box-shadow: 0 0 14px rgba(108,255,155,0.9); }
  100% { opacity: 0.5; box-shadow: 0 0 6px rgba(108,255,155,0.4); }
}

.hold-indicator:focus-visible {
  outline: 1px solid rgba(255,255,255,0.25);
  outline-offset: 6px;
}

.gate-status.off .status-dot {
  background: #ff6c6c;
  box-shadow: 0 0 10px rgba(255,108,108,0.6);
}
